
<div class = "nested-fields">

  <%= f.label :product_id, 'Select Product',style: 'margin-bottom: 10px;' %>
  <%= f.collection_select :product_id, Product.all, :id, :product_name, { prompt: 'Please Select product' }, { id: 'product_select' } %>

  <div class="product_attributes" style="display: none;">
    <table class = "table table-striped">
      <tr>
        <th width="10%">Date</th>
        <th width="10%">Item</th>
        <th width="10%">Rate</th>
        <th width="10%">Unit</th>
        <th width="10%">Weight</th>
        <th width="10%">Amount</th>
      </tr>
      <tr>
       <tr>
            <td>
             <%= f.date_field :item_date %>
            </td>
            <td><span id="product_name"></span></td>
            <td><span id="product_rate" ></span></td>
            <td><span id="product_unit"></span></td>
            <td>
             <%= f.text_field :weight, id: 'weight', class: 'form-control' , value: 1 %>
              <br>
              <button type="button" onclick="calculateAmount(this)">Calculate</button>
            </td>
            <td>
              <span id="result"></span>
            </td>

      </tr>
    </table>
       <%= link_to_remove_association 'Remove Item', f , class: "link-body-emphasis" %>
   </div>
       <% f.hidden_field :_destroy %>

  </div>
</div>